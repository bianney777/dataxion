<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Iniciar Sesión - DataXion</title>
  <link rel="stylesheet" href="/style.css" />
  <style>
    body { font-family: Inter, system-ui, sans-serif; background:linear-gradient(120deg,#0A2A6B 0%,#1B4DFF 55%,#3CCB7F 120%); min-height:100vh; margin:0; color:#0f172a; }
    .nav-top { display:flex; align-items:center; justify-content:space-between; padding:14px 26px; background:rgba(255,255,255,0.10); backdrop-filter:blur(10px); position:sticky; top:0; z-index:40; border-bottom:1px solid #ffffff30; }
    .nav-brand { font-size:1rem; font-weight:600; letter-spacing:.5px; color:#fff; display:flex; align-items:center; gap:8px; }
    .nav-links { display:flex; gap:18px; font-size:.65rem; text-transform:uppercase; letter-spacing:.8px; }
    .nav-links a { color:#f1f5f9; text-decoration:none; font-weight:500; opacity:.85; }
    .nav-links a:hover { opacity:1; }
    .layout-login { display:grid; grid-template-columns: minmax(320px,380px) 1fr; min-height:calc(100vh - 60px); }
    .panel-auth { background:#ffffff; border-radius:0 30px 30px 0; padding:46px 42px 50px; display:flex; flex-direction:column; gap:28px; position:relative; box-shadow:0 20px 40px -15px rgba(0,0,0,.25); }
  .panel-auth h1 { margin:0; font-size:1.4rem; background:linear-gradient(90deg,#0A2A6B,#1B4DFF); -webkit-background-clip:text; background-clip:text; color:transparent; }
    form.login-form { display:flex; flex-direction:column; gap:18px; }
    form.login-form .field { position:relative; }
  form.login-form input { width:100%; padding:12px 44px 12px 46px; border:1px solid #cbd5e1; border-radius:12px; font-size:.8rem; background:#f8fafc; transition:.25s; }
    form.login-form input:focus { outline:none; border-color:#1B4DFF; background:#fff; box-shadow:0 0 0 3px #1B4DFF33; }
  form.login-form svg { position:absolute; left:14px; top:50%; transform:translateY(-50%); width:18px; height:18px; color:#64748b; pointer-events:none; }
    .btn-primary { background:#1B4DFF; color:#fff; padding:12px 18px; border:none; border-radius:12px; font-weight:600; letter-spacing:.4px; font-size:.75rem; cursor:pointer; box-shadow:0 6px 18px -6px rgba(27,77,255,.55); transition:.25s; }
    .btn-primary:hover { filter:brightness(1.08); }
    .alt-links { display:flex; align-items:center; justify-content:space-between; font-size:.65rem; flex-wrap:wrap; gap:10px; }
    .alt-links a { color:#1B4DFF; font-weight:600; text-decoration:none; }
    .alt-links a:hover { text-decoration:underline; }
    .marketing { position:relative; padding:54px 58px 60px; display:flex; flex-direction:column; gap:34px; }
    .hero-copy { max-width:620px; }
    .hero-copy h2 { margin:0 0 14px; font-size:2.2rem; line-height:1.1; font-weight:700; color:#fff; letter-spacing:.5px; }
    .hero-copy p { margin:0; font-size:.9rem; line-height:1.5; color:#e2e8f0; }
    .kpi-grid { display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); max-width:820px; }
    .kpi { background:rgba(255,255,255,0.14); border:1px solid #ffffff30; border-radius:18px; padding:14px 16px 16px; backdrop-filter:blur(6px); display:flex; flex-direction:column; gap:4px; position:relative; overflow:hidden; }
    .kpi h4 { margin:0; font-size:.65rem; font-weight:600; letter-spacing:.8px; color:#e2e8f0; text-transform:uppercase; }
    .kpi strong { font-size:1.2rem; font-weight:600; color:#fff; }
    .kpi span.trend { font-size:.55rem; font-weight:600; padding:4px 6px; border-radius:40px; background:#3CCB7F; color:#05361b; align-self:flex-start; letter-spacing:.5px; }
    .mini-chart { width:100%; height:44px; margin-top:4px; }
    .benefits { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); max-width:900px; }
    .benefit { background:rgba(255,255,255,0.12); border:1px solid #ffffff25; padding:16px 18px 18px; border-radius:20px; backdrop-filter:blur(8px); color:#f1f5f9; font-size:.7rem; line-height:1.5; position:relative; overflow:hidden; }
    .benefit h5 { margin:0 0 6px; font-size:.75rem; font-weight:600; letter-spacing:.5px; color:#fff; display:flex; gap:6px; align-items:center; }
    .cta-row { display:flex; flex-wrap:wrap; gap:14px; }
    .cta-row a { text-decoration:none; font-size:.7rem; font-weight:600; letter-spacing:.4px; padding:12px 18px; border-radius:14px; background:#fff; color:#0A2A6B; box-shadow:0 6px 20px -8px rgba(0,0,0,.35); }
    .cta-row a.alt { background:#1B4DFF; color:#fff; }
    .charts-wrap { display:grid; gap:20px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); max-width:880px; }
    .chart-card { background:rgba(255,255,255,0.12); border:1px solid #ffffff25; border-radius:20px; padding:14px 16px 18px; position:relative; backdrop-filter:blur(8px); }
    .chart-card h5 { margin:0 0 4px; font-size:.65rem; letter-spacing:.6px; font-weight:600; color:#e2e8f0; text-transform:uppercase; }
    .mini-svg { width:100%; height:90px; }
    .footer-note { font-size:.55rem; color:#e2e8f0; opacity:.7; margin-top:10px; }
    @media (max-width:980px){ .layout-login { grid-template-columns:1fr; } .panel-auth { border-radius:0 0 30px 30px; box-shadow:0 10px 30px -12px rgba(0,0,0,.4); } .marketing { padding:46px 40px 70px; } }
    @media (max-width:580px){ .hero-copy h2 { font-size:1.7rem; } .panel-auth { padding:40px 34px 46px; } }
  </style>
</head>
<body>
  <nav class="nav-top">
    <div class="nav-brand">DataXion</div>
    <div class="nav-links">
      <a href="/">Inicio</a>
      <a href="/branding">Branding</a>
      <a href="/auth/register">Crear Cuenta</a>
      <a href="mailto:contacto@dataxion.app">Socios</a>
    </div>
  </nav>
  <div class="layout-login">
    <div class="panel-auth">
      <div>
        <h1>Accede a tu cuenta</h1>
        <p style="font-size:.72rem; color:#475569; margin:6px 0 0; line-height:1.4;">Centraliza ciclos, monitorea progreso y genera decisiones basadas en datos.</p>
      </div>
      <% if (error) { %>
        <div class="alert-error" style="margin-top:-4px;"><%= error %></div>
      <% } %>
      <form class="login-form" action="/auth/login" method="POST">
        <div class="field">
          <input type="email" name="email" placeholder="Correo" required autocomplete="email" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4h16v16H4V4zm0 0l8 8 8-8"/></svg>
        </div>
        <div class="field">
          <input type="password" name="contrasena" placeholder="Contraseña" required autocomplete="current-password" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15a3 3 0 100-6 3 3 0 000 6z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.4 8.2l.8-1.6A2 2 0 018.9 5h6.2a2 2 0 011.8 1.1l.8 1.6M5 10h14v8a2 2 0 01-2 2H7a2 2 0 01-2-2v-8z"/></svg>
        </div>
        <button type="submit" class="btn-primary">Entrar</button>
        <div class="alt-links">
          <span>¿No tienes cuenta? <a href="/auth/register">Regístrate</a></span>
          <button id="toggleThemeLogin" type="button" class="btn-primary" style="background:#0A2A6B; box-shadow:none; padding:8px 12px; font-size:.6rem;">Tema</button>
        </div>
      </form>
    </div>
    <div class="marketing">
      <div class="hero-copy">
        <h2>Optimiza cada ciclo<br/>con inteligencia accionable.</h2>
        <p>DataXion unifica gestión operativa agrícola con métricas, progreso, trazabilidad y una base para analítica predictiva. Empieza gratis y escala con tu operación.</p>
        <div class="cta-row" style="margin-top:22px;">
          <a href="/auth/register" class="alt">Comenzar Ahora</a>
          <a href="/branding">Ver Pitch</a>
        </div>
      </div>
      <div class="kpi-grid">
        <div class="kpi">
          <h4>TIEMPO AHORRADO</h4>
          <strong>32%</strong>
          <span class="trend">+6%</span>
          <svg class="mini-chart" viewBox="0 0 120 44"><polyline fill="none" stroke="#3CCB7F" stroke-width="3" stroke-linecap="round" points="4,34 20,28 36,30 52,18 68,22 84,14 116,20"/><line x1="4" y1="38" x2="116" y2="38" stroke="#ffffff33" stroke-width="2"/></svg>
        </div>
        <div class="kpi">
          <h4>RETENCIÓN 90D</h4>
          <strong>55%</strong>
          <span class="trend" style="background:#1B4DFF; color:#fff;">Objetivo</span>
          <svg class="mini-chart" viewBox="0 0 120 44"><rect x="10" y="10" width="12" height="24" rx="2" fill="#1B4DFF" opacity="0.55"/><rect x="34" y="6" width="12" height="28" rx="2" fill="#1B4DFF" opacity="0.7"/><rect x="58" y="4" width="12" height="30" rx="2" fill="#1B4DFF"/><rect x="82" y="12" width="12" height="22" rx="2" fill="#1B4DFF" opacity="0.5"/><rect x="106" y="14" width="12" height="20" rx="2" fill="#1B4DFF" opacity="0.4"/></svg>
        </div>
        <div class="kpi">
          <h4>INSUMOS OPTIM.</h4>
          <strong>-18%</strong>
          <span class="trend">✔</span>
          <svg class="mini-chart" viewBox="0 0 120 44"><path d="M4 30 C20 10, 36 26, 52 16 S84 8, 116 18" stroke="#ffffffaa" stroke-width="2" fill="none" stroke-linecap="round"/><circle cx="52" cy="16" r="3" fill="#3CCB7F"/><circle cx="84" cy="12" r="3" fill="#3CCB7F"/></svg>
        </div>
        <div class="kpi">
          <h4>COBERTURA CICLOS</h4>
          <strong>+11K</strong>
          <span class="trend" style="background:#fff; color:#0A2A6B;">Meta 12M</span>
          <svg class="mini-chart" viewBox="0 0 120 44"><polyline fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" points="4,34 26,32 48,26 70,20 92,16 116,12"/><circle cx="116" cy="12" r="4" fill="#3CCB7F"/></svg>
        </div>
      </div>
      <div class="benefits">
        <div class="benefit">
          <h5>⚙️ Flujo Operativo</h5>
          <p>Registra, actualiza y visualiza estados de ciclos y lotes en segundos con interfaces enfocadas.</p>
        </div>
        <div class="benefit">
          <h5>📊 Métricas Clave</h5>
          <p>KPIs integrados: rendimiento, avance, eventos críticos y uso de insumos para decisiones oportunas.</p>
        </div>
        <div class="benefit">
          <h5>🌱 Sostenibilidad</h5>
          <p>Optimización de insumos y trazabilidad para mejorar huella y reducir desperdicios.</p>
        </div>
        <div class="benefit">
          <h5>🔐 Confianza</h5>
          <p>Datos estructurados, preparados para auditorías y futuras capas predictivas.</p>
        </div>
      </div>
      <div class="charts-wrap">
        <div class="chart-card">
          <h5>Adopción Mensual</h5>
          <svg class="mini-svg" viewBox="0 0 180 90"><rect x="14" y="60" width="16" height="20" rx="3" fill="#1B4DFF" opacity="0.4"/><rect x="40" y="52" width="16" height="28" rx="3" fill="#1B4DFF" opacity="0.55"/><rect x="66" y="44" width="16" height="36" rx="3" fill="#1B4DFF" opacity="0.7"/><rect x="92" y="34" width="16" height="46" rx="3" fill="#1B4DFF" opacity="0.85"/><rect x="118" y="26" width="16" height="54" rx="3" fill="#1B4DFF"/><rect x="144" y="22" width="16" height="58" rx="3" fill="#1B4DFF"/><line x1="10" y1="80" x2="170" y2="80" stroke="#ffffff33"/></svg>
        </div>
        <div class="chart-card">
          <h5>Valor Proyectado</h5>
          <svg class="mini-svg" viewBox="0 0 180 90"><defs><linearGradient id="g1" x1="0" x2="0" y1="0" y2="1"><stop offset="0%" stop-color="#3CCB7F" stop-opacity="0.9"/><stop offset="100%" stop-color="#3CCB7F" stop-opacity="0"/></linearGradient></defs><path d="M10 70 L34 62 L58 60 L82 46 L106 40 L130 34 L154 28 L170 24 L170 90 L10 90 Z" fill="url(#g1)" stroke="#3CCB7F" stroke-width="2" stroke-linejoin="round"/><line x1="10" y1="70" x2="170" y2="24" stroke="#3CCB7F" stroke-width="2" stroke-dasharray="4 4" opacity="0.4"/><line x1="10" y1="74" x2="170" y2="74" stroke="#ffffff22"/></svg>
        </div>
        <div class="chart-card">
          <h5>Distribución Uso</h5>
          <svg class="mini-svg" viewBox="0 0 180 90"><circle cx="54" cy="46" r="34" fill="#1B4DFF22" stroke="#1B4DFF" stroke-width="4"/><circle cx="126" cy="46" r="34" fill="#3CCB7F22" stroke="#3CCB7F" stroke-width="4"/><path d="M54 12 A34 34 0 0 1 88 46" stroke="#3CCB7F" stroke-width="6" fill="none" stroke-linecap="round"/></svg>
        </div>
      </div>
      <div class="footer-note">© <%= new Date().getFullYear() %> DataXion. Plataforma en evolución continua.</div>
    </div>
  </div>
  <script>
    const root = document.documentElement;
    function applyStoredTheme(){ const t=localStorage.getItem('theme'); if(t==='dark'){ root.classList.add('dark'); } else { root.classList.remove('dark'); } }
    applyStoredTheme();
    document.getElementById('toggleThemeLogin')?.addEventListener('click',()=>{ const isDark=root.classList.toggle('dark'); localStorage.setItem('theme', isDark?'dark':'light'); });
  </script>
</body>
</html>
