<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Registrarse</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <div class="auth-wrapper">
    <div class="auth-box animate-in">
      <div>
        <h1>Crear cuenta</h1>
        <p style="font-size:.7rem; color:#475569; margin:4px 0 0;">Accede a la plataforma de gestión de fincas.</p>
      </div>
      <% if (error) { %>
        <div class="alert-error"><%= error %></div>
      <% } %>
      <form action="/auth/register" method="POST" style="display:flex; flex-direction:column; gap:18px;">
        <div class="field">
          <input type="text" name="nombre" placeholder="Nombre" required autocomplete="given-name" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
        </div>
        <div class="field">
          <input type="text" name="apellido" placeholder="Apellido" required autocomplete="family-name" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
        </div>
        <div class="field">
          <input type="email" name="email" placeholder="Correo" required autocomplete="email" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4h16v16H4V4zm0 0l8 8 8-8"/></svg>
        </div>
        <div class="field">
          <input type="password" name="contrasena" placeholder="Contraseña" required autocomplete="new-password" />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15a3 3 0 100-6 3 3 0 000 6z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.4 8.2l.8-1.6A2 2 0 018.9 5h6.2a2 2 0 011.8 1.1l.8 1.6M5 10h14v8a2 2 0 01-2 2H7a2 2 0 01-2-2v-8z"/></svg>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn">Registrarse</button>
        </div>
      </form>
      <div class="alt-links" style="margin-top:4px;">
        <span>¿Ya tienes cuenta? <a href="/auth/login">Inicia sesión</a></span>
        <button id="toggleThemeRegister" class="btn-outline" style="border:none; background:#f1f5f9; padding:6px 10px; border-radius:8px; font-size:.6rem; cursor:pointer;">Tema</button>
      </div>
    </div>
  </div>
  <script>
    const root = document.documentElement; function applyStoredTheme(){ const t=localStorage.getItem('theme'); if(t==='dark'){ root.classList.add('dark'); } else { root.classList.remove('dark'); } } applyStoredTheme(); document.getElementById('toggleThemeRegister')?.addEventListener('click',()=>{ const isDark=root.classList.toggle('dark'); localStorage.setItem('theme', isDark?'dark':'light'); });
  </script>
</body>
</html>
